<?
//////////////////////////////////////////////////////////////////////////////////////////////////////
//
//	SCRIPT: nav.php	- generates navigation bar based on database input
//
//	02.15.2014	|	js	|	updated comment style
//						|	updated to support mySQL library
//
//////////////////////////////////////////////////////////////////////////////////////////////////////

//	Includes	//////////////////////////////////////////////////////////////////////////////////////

require_once('includes/mySQL.php');

//////////////////////////////////////////////////////////////////////////////////////////////////////

//	Data	//////////////////////////////////////////////////////////////////////////////////////////

$select = "SELECT * FROM courses";
$where	= "WHERE deprecated='0'";
$data = select($select, $where);

//////////////////////////////////////////////////////////////////////////////////////////////////////

//	Logic	//////////////////////////////////////////////////////////////////////////////////////////?>

<script>

$( document ).on( "click", "a", function( event ) {
	var target = event.target;
	event.preventDefault();
	event.stopPropagation();
		
	var href = $( target ).attr( "href" );
	
	$( "div#sub_nav" ).load( "" + href + "" );
	
	// link navigation cosmetics
	$('a').removeClass("current").addClass("default");
	$(this).removeClass("default").addClass("current");
});

</script>
<?
//////////////////////////////////////////////////////////////////////////////////////////////////////

//	View	//////////////////////////////////////////////////////////////////////////////////////////?>

<div class="nav">
<? foreach ($data as $nav) { ?>	
	 [ <a href="course.php?course=<?echo $nav['course'];?>" class="default"><?echo $nav['name'];?></a> ] 
<? } ?>
</div>

<div class="sub_nav">
</div>
<?
//////////////////////////////////////////////////////////////////////////////////////////////////////?>	